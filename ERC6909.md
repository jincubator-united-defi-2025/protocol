# ERC-6909 Support

## Requirements

1. Read lib\the-compact\README.md (open in editor) to understand how the compact works
2. We are looking to create an end to end flow where
   1. We register the LimitOrderProtocol as a ResourceManager
   2. We Register ChainLinkCompactInteraction.sol as the Arbiter
   3. The Maker (the Swapper in compact terms signs permission for their tokens (or ETH) to be stored in the-compact as ERC-6909)
   4. ChainLinkCompact.sol checks that the we have a ResourceLock for the amount required.
   5. ChainLinkCompact then executes the trade using the same logic that was in ChainLinkCalculator and creates a resource lock for their (tokens/ETH)
   6. ChainLinkCompactInteraction is copied from RebalancerInteraction it takes the output tokens provided by the Taker and
   7. If they are >= TakerAmount then it calls the ResourceManager to lock the funds
   8. It then does the token transfer to the treasurer the same as it was done in the original RebalancerInteraction

## Implementation

1. Create a new contract ChainLinkCompact.sol copied from ChainLinkCalculator
2. Create a new contract RebalancerERC6909.sol copied from RebalancerInteraction.sol
